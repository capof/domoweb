{% load i18n %}
<div id='configinstance_{{instanceid}}' class='{% if modal %}modal {% endif %}widgetconfig'>
    <a role="button" class='force_close' data-instanceid="{{ instanceid }}" aria-label="Force close" title="Force close">[Force close]</a>
	<h2>{{ widget.name }} configuration</h2>
	<div class='widget_parameters'>
        <h3>Sensors</h3>
        {{ forms.sensorsform.non_field_errors }}
        <table class='parameters' cellpadding='0' cellspacing='0'>
            <thead class='offscreen'>
                <tr>
                    <th scope='col'>Name</th>            
                    <th scope='col'>Sensor</th>            
                </tr>
            </thead>
            <tbody>
        {% for field in forms.sensorsform %}
            <tr class='{% cycle 'odd' 'even' %}'>
                <td class='name'>
                    <label for="{{ field.auto_id }}" class="{% if field.field.required %}required{% endif %}">
                       {{ field.label }} {% if field.field.required %}<span class="offscreen"> {% trans "(required)" %}</span>{% endif %}</span>
                    </label>
                    <div class='description'>{{ field.help_text }}</div>
                    {% if field.errors %}<div class='errors'>{{ field.errors }}</div>{% endif %}
                </td>
                <td class='input'>
                    {{ field }}
                </td>
            </tr>
        {% endfor %}
            </tbody>
        </table>
        <h3>Commands</h3>
        {{ forms.commandsform.non_field_errors }}
        <table class='parameters' cellpadding='0' cellspacing='0'>
            <thead class='offscreen'>
                <tr>
                    <th scope='col'>Name</th>            
                    <th scope='col'>Command</th>            
                </tr>
            </thead>
            <tbody>
        {% for field in forms.commandsform %}
            <tr class='{% cycle 'odd' 'even' %}'>
                <td class='name'>
                    <label for="{{ field.auto_id }}" class="{% if field.field.required %}required{% endif %}">
                       {{ field.label }} {% if field.field.required %}<span class="offscreen"> {% trans "(required)" %}</span>{% endif %}</span>
                    </label>
                    <div class='description'>{{ field.help_text }}</div>
                    {% if field.errors %}<div class='errors'>{{ field.errors }}</div>{% endif %}
                </td>
                <td class='input'>
                    {{ field }}
                </td>
            </tr>
        {% endfor %}
            </tbody>
        </table>
        <h3>Devices</h3>
        {{ forms.devicesform.non_field_errors }}
        <table class='parameters' cellpadding='0' cellspacing='0'>
            <thead class='offscreen'>
                <tr>
                    <th scope='col'>Name</th>            
                    <th scope='col'>Device</th>            
                </tr>
            </thead>
            <tbody>
        {% for field in forms.devicesform %}
            <tr class='{% cycle 'odd' 'even' %}'>
                <td class='name'>
                    <label for="{{ field.auto_id }}" class="{% if field.field.required %}required{% endif %}">
                       {{ field.label }} {% if field.field.required %}<span class="offscreen"> {% trans "(required)" %}</span>{% endif %}</span>
                    </label>
                    <div class='description'>{{ field.help_text }}</div>
                    {% if field.errors %}<div class='errors'>{{ field.errors }}</div>{% endif %}
                </td>
                <td class='input'>
                    {{ field }}
                </td>
            </tr>
        {% endfor %}
            </tbody>
        </table>
        <h3>Options</h3>
        {{ forms.optionsform.non_field_errors }}
        <table class='parameters' cellpadding='0' cellspacing='0'>
            <thead class='offscreen'>
                <tr>
                    <th scope='col'>Name</th>            
                    <th scope='col'>Option</th>            
                </tr>
            </thead>
            <tbody>
        {% for field in forms.optionsform %}
            <tr class='{% cycle 'odd' 'even' %}'>
                <td class='name'>
                    <label for="{{ field.auto_id }}" class="{% if field.field.required %}required{% endif %}">
                       {{ field.label }} {% if field.field.required %}<span class="offscreen"> {% trans "(required)" %}</span>{% endif %}</span>
                    </label>
                    <div class='description'>{{ field.help_text }}</div>
                    {% if field.errors %}<div class='errors'>{{ field.errors }}</div>{% endif %}
                </td>
                <td class='input'>
                    {{ field }}
                </td>
            </tr>
        {% endfor %}
            </tbody>
        </table>
    </div>
</div>